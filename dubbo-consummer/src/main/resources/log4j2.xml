<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="warn" monitorInterval="5">
    <Properties>
        <Property name="logPath">${env:LOG_ROOT:-logs}/${env:pom_a:-dubbo-consummer}</Property>
    </Properties>

    <Appenders>
        <Console name="console">
            <PatternLayout pattern="%d %-5p [%t] %m (%F:%L)%c.%M%n" />
        </Console>
        <!-- 
        <RollingRandomAccessFile name="elkFile" fileName="${logPath}/elk.log" filePattern="${logPath}/elk.log.%d{yyyy-MM-dd}" immediateFlush="false">
            <Policies>
                <TimeBasedTriggeringPolicy />
            </Policies>
            <JsonLayout compact="true" eventEol="true" properties="true" locationInfo="true" />
        </RollingRandomAccessFile>
         -->
        <RollingRandomAccessFile name="allFile" fileName="${logPath}/all.log" filePattern="${logPath}/all.log.%d{yyyy-MM-dd}" immediateFlush="false">
            <Policies>
                <TimeBasedTriggeringPolicy />
            </Policies>
            <PatternLayout pattern="%d %-5p [%t] %m (%F:%L)%c.%M%n" />
        </RollingRandomAccessFile>
    </Appenders>

    <Loggers>
        <Logger name="dubbo.accesslog" level="info" />

        <Logger name="org.springframework" level="info" />
        <Logger name="org.springframework.transaction" level="info" />
        <Logger name="org.springframework.jdbc" level="info" />
        <Logger name="org.springframework.jdbc.core.JdbcTemplate" level="info" />
        <Logger name="org.springframework.jdbc.core.StatementCreatorUtils" level="info" />
        <Logger name="org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver" level="debug" />

        <AsyncRoot level="info" includeLocation="true">
            <AppenderRef ref="console" level="all" />
<!--             <AppenderRef ref="elkFile" /> -->
            <AppenderRef ref="allFile" />
        </AsyncRoot>
    </Loggers>
</Configuration>